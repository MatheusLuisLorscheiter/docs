---
title: "Registrar Empresa"
api: "POST /api/auth/register"
description: "Registra uma nova empresa com autorização de administrador"
---

<Warning>
Este endpoint requer autenticação de administrador. Você precisa fornecer o token de administrador no header Authorization.
</Warning>

<Note>
Após obter o access token da empresa, use-o no header X-Access-Token em todos os outros endpoints.
</Note>

## Headers

<ParamField header="Content-Type" type="string" required>
  Deve ser application/json
</ParamField>

<ParamField header="Authorization" type="string" required>
  Token de administrador no formato: Bearer {admin_password}
</ParamField>

## Body Parameters

<ParamField body="name" type="string" optional>
  Nome da empresa (máximo 100 caracteres). Se não fornecido, será usado o nome do email
</ParamField>

<ParamField body="email" type="string" required>
  Email da empresa. Deve ser um email válido e único no sistema
</ParamField>

<ParamField body="password" type="string" required>
  Senha da empresa. Deve ter pelo menos 6 caracteres
</ParamField>

<RequestExample>

```bash cURL
curl -X POST https://api.exemplo.com/api/auth/register \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer {admin_password}" \
  -d '{
    "name": "Minha Empresa LTDA",
    "email": "contato@minhaempresa.com",
    "password": "senha123"
  }'
```

```javascript JavaScript
const response = await fetch('https://api.exemplo.com/api/auth/register', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer {admin_password}'
  },
  body: JSON.stringify({
    name: 'Minha Empresa LTDA',
    email: 'contato@minhaempresa.com',
    password: 'senha123'
  })
});

const result = await response.json();
console.log('Access Token:', result.accessToken);
```

```python Python
import requests

headers = {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer {admin_password}'
}

data = {
    'name': 'Minha Empresa LTDA',
    'email': 'contato@minhaempresa.com',
    'password': 'senha123'
}

response = requests.post(
    'https://api.exemplo.com/api/auth/register',
    json=data,
    headers=headers
)

result = response.json()
print('Access Token:', result.get('accessToken'))
```

```php PHP
<?php
$headers = [
    'Content-Type: application/json',
    'Authorization: Bearer {admin_password}'
];

$data = [
    'name' => 'Minha Empresa LTDA',
    'email' => 'contato@minhaempresa.com',
    'password' => 'senha123'
];

$curl = curl_init();
curl_setopt_array($curl, [
    CURLOPT_URL => 'https://api.exemplo.com/api/auth/register',
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_POST => true,
    CURLOPT_POSTFIELDS => json_encode($data),
    CURLOPT_HTTPHEADER => $headers
]);

$response = curl_exec($curl);
curl_close($curl);

$result = json_decode($response, true);
echo 'Access Token: ' . $result['accessToken'];
?>
```

</RequestExample>

<ResponseExample>

```json Sucesso (200 OK)
{
  "accessToken": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
  "tokenType": "Access",
  "companyId": 1,
  "companyName": "Minha Empresa LTDA",
  "companyEmail": "contato@minhaempresa.com",
  "expiresAt": null,
  "message": null
}
```

```json Token de Admin Inválido (401)
{
  "accessToken": null,
  "tokenType": "Access",
  "companyId": null,
  "companyName": null,
  "companyEmail": null,
  "expiresAt": null,
  "message": "Token de administrador inválido"
}
```

```json Formato de Token Inválido (401)
{
  "accessToken": null,
  "tokenType": "Access",
  "companyId": null,
  "companyName": null,
  "companyEmail": null,
  "expiresAt": null,
  "message": "Formato de token inválido. Use: Bearer {senha}"
}
```

```json Email já em uso (400)
{
  "accessToken": null,
  "tokenType": "Access",
  "companyId": null,
  "companyName": null,
  "companyEmail": null,
  "expiresAt": null,
  "message": "Email já está em uso"
}
```

```json Email inválido (400)
{
  "accessToken": null,
  "tokenType": "Access",
  "companyId": null,
  "companyName": null,
  "companyEmail": null,
  "expiresAt": null,
  "message": "Email deve ter formato válido"
}
```

```json Senha muito curta (400)
{
  "accessToken": null,
  "tokenType": "Access",
  "companyId": null,
  "companyName": null,
  "companyEmail": null,
  "expiresAt": null,
  "message": "Senha deve ter pelo menos 6 caracteres"
}
```

</ResponseExample>

## Response

<ResponseField name="accessToken" type="string">
  Token de acesso para autenticação da empresa. Use no header X-Access-Token (null em caso de erro)
</ResponseField>

<ResponseField name="tokenType" type="string">
  Tipo do token, sempre "Access"
</ResponseField>

<ResponseField name="companyId" type="number">
  ID único da empresa registrada (null em caso de erro)
</ResponseField>

<ResponseField name="companyName" type="string">
  Nome da empresa registrada (null em caso de erro)
</ResponseField>

<ResponseField name="companyEmail" type="string">
  Email da empresa registrada (null em caso de erro)
</ResponseField>

<ResponseField name="expiresAt" type="datetime">
  Sempre null - tokens não expiram automaticamente
</ResponseField>

<ResponseField name="message" type="string">
  Mensagem de erro (null em caso de sucesso)
</ResponseField>

## Códigos de Erro

| Código | Descrição |
|--------|-----------|
| 400 | Dados inválidos ou email já em uso |
| 401 | Token de administrador ausente ou inválido |
| 500 | Erro interno do servidor |

## Validações

<CardGroup cols={3}>
  <Card title="Token Admin" icon="shield" color="#dc2626">
    Obrigatório no header Authorization no formato Bearer {senha}
  </Card>
  <Card title="Email" icon="envelope" color="#2563eb">
    Deve ser válido e único no sistema (formato: usuario@dominio.com)
  </Card>
  <Card title="Senha" icon="key" color="#16a34a">
    Mínimo 6 caracteres. Recomendado incluir letras, números e símbolos
  </Card>
</CardGroup>

## Token de Acesso

<Note>
O token de acesso da empresa **não expira** automaticamente. É um UUID único que permanece válido até que a empresa seja desativada ou o token seja regenerado manualmente.
</Note>

## Rate Limiting

Cada empresa possui limites de rate limiting independentes:

<CardGroup cols={2}>
  <Card title="Por Minuto" icon="clock" color="#16a34a">
    60 requisições por minuto (padrão)
  </Card>
  <Card title="Por Hora" icon="calendar" color="#2563eb">
    1000 requisições por hora (padrão)
  </Card>
</CardGroup>

## Próximos Passos

Após obter o access token:

<CardGroup cols={3}>
  <Card title="Criar Campanha" icon="plus" href="/api-reference/campaigns/create">
    Crie sua primeira campanha
  </Card>
  <Card title="Listar Campanhas" icon="list" href="/api-reference/campaigns/list">
    Explore suas campanhas
  </Card>
  <Card title="Documentação" icon="book-open" href="/api-reference">
    Veja todos os endpoints
  </Card>
</CardGroup>
