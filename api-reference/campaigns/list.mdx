---
title: "Listar Campanhas"
api: "GET /api/campaigns"
description: "Lista todas as campanhas da empresa"
---

Retorna uma lista de todas as campanhas da empresa autenticada.

<Note>
Você precisa de um access token válido no header X-Access-Token para usar este endpoint.
</Note>

## Headers

<ParamField header="X-Access-Token" type="string" required>
  Token de acesso obtido no registro
</ParamField>

<RequestExample>

```bash cURL
curl -X GET https://{url-key}/api/campaigns \
  -H "X-Access-Token: {access_token}"
```

```javascript JavaScript
const response = await fetch('https://{url-key}/api/campaigns', {
  method: 'GET',
  headers: {
    'X-Access-Token': '{access_token}'
  }
});

const campaigns = await response.json();
console.log('Campanhas:', campaigns);
```

```python Python
import requests

headers = {
    'X-Access-Token': '{access_token}'
}

response = requests.get('https://{url-key}/api/campaigns', headers=headers)
campaigns = response.json()
print('Campanhas:', campaigns)
```

```php PHP
<?php
$headers = [
    'X-Access-Token: {access_token}'
];

$curl = curl_init();
curl_setopt_array($curl, [
    CURLOPT_URL => 'https://{url-key}/api/campaigns',
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_HTTPHEADER => $headers
]);

$response = curl_exec($curl);
curl_close($curl);

$campaigns = json_decode($response, true);
echo 'Campanhas: ' . print_r($campaigns, true);
?>
```

</RequestExample>

<ResponseExample>

```json Sucesso (200 OK)
[
  {
    "id": 1,
    "name": "{campaign_name_1}",
    "status": "ACTIVE",
    "totalContacts": 2,
    "sentMessages": 2,
    "failedMessages": 0,
    "createdAt": "{creation_datetime_1}",
    "message": null
  },
  {
    "id": 2,
    "name": "{campaign_name_2}",
    "status": "COMPLETED",
    "totalContacts": 1,
    "sentMessages": 1,
    "failedMessages": 0,
    "createdAt": "{creation_datetime_2}",
    "message": null
  },
  {
    "id": 3,
    "name": "{campaign_name_3}",
    "status": "PAUSED",
    "totalContacts": 5,
    "sentMessages": 3,
    "failedMessages": 1,
    "createdAt": "{creation_datetime_3}",
    "message": null
  }
]
```

```json Erro (400 Bad Request)
null
```

</ResponseExample>

## Response

Retorna um array de objetos com as seguintes propriedades:

<ResponseField name="id" type="number">
  ID único da campanha
</ResponseField>

<ResponseField name="name" type="string">
  Nome da campanha
</ResponseField>

<ResponseField name="status" type="string">
  Status atual: ACTIVE, PAUSED, CANCELLED, COMPLETED
</ResponseField>

<ResponseField name="totalContacts" type="number">
  Total de contatos na campanha
</ResponseField>

<ResponseField name="sentMessages" type="number">
  Mensagens enviadas com sucesso
</ResponseField>

<ResponseField name="failedMessages" type="number">
  Mensagens que falharam
</ResponseField>

<ResponseField name="createdAt" type="datetime">
  Data e hora de criação
</ResponseField>

<ResponseField name="message" type="string">
  Mensagem de erro (null em caso de sucesso)
</ResponseField>

## Status das Campanhas

<CardGroup cols={2}>
  <Card title="ACTIVE" icon="play" color="#16a34a">
    Campanha ativa e enviando mensagens
  </Card>
  <Card title="PAUSED" icon="pause" color="#eab308">
    Campanha pausada temporariamente
  </Card>
  <Card title="CANCELLED" icon="stop" color="#dc2626">
    Campanha cancelada
  </Card>
  <Card title="COMPLETED" icon="check" color="#6366f1">
    Campanha finalizada (todas as mensagens processadas)
  </Card>
</CardGroup>

## Códigos de Erro

| Código | Descrição |
|--------|-----------|
| 400 | Access token inválido |
| 500 | Erro interno do servidor |

## Filtros e Ordenação

<Info>
Atualmente, a API retorna todas as campanhas da empresa em ordem cronológica (mais recentes primeiro).
</Info>

**Futuras versões incluirão:**

<CardGroup cols={2}>
  <Card title="Filtros" icon="filter">
    - Filtro por status
    - Filtro por data
  </Card>
  <Card title="Controles" icon="settings">
    - Paginação
    - Ordenação personalizada
  </Card>
</CardGroup>

## Próximos Passos

Após listar as campanhas:

<CardGroup cols={3}>
  <Card title="Consultar Campanha" icon="magnifying-glass" href="/api-reference/campaigns/get">
    Detalhes de uma campanha específica
  </Card>
  <Card title="Gerenciar Campanha" icon="gear" href="/api-reference/campaigns/pause">
    Pause, retome ou cancele
  </Card>
  <Card title="Criar Nova Campanha" icon="plus" href="/api-reference/campaigns/create">
    Crie uma nova campanha
  </Card>
</CardGroup>