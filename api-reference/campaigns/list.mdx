---
title: 'Listar Campanhas'
description: 'Lista todas as campanhas da empresa'
---

# Listar Campanhas

Retorna uma lista de todas as campanhas da empresa autenticada.

<Note>
  Você precisa de um access token válido no header `X-Access-Token` para usar este endpoint.
</Note>

## Endpoint

```http
GET /api/campaigns
```

## Headers

| Header | Tipo | Obrigatório | Descrição |
|--------|------|-------------|-----------|
| `X-Access-Token` | string | Sim | Token de acesso obtido no registro |

## Exemplo de Request

```bash
curl -X GET https://api.disparador.com/api/campaigns \
  -H "X-Access-Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
```

## Response

### Sucesso (200 OK)

```json
[
  {
    "id": 1,
    "name": "Campanha de Boas-vindas",
    "status": "ACTIVE",
    "totalContacts": 2,
    "sentMessages": 2,
    "failedMessages": 0,
    "createdAt": "2024-01-15T10:30:00",
    "message": null
  },
  {
    "id": 2,
    "name": "Campanha com Imagem",
    "status": "COMPLETED",
    "totalContacts": 1,
    "sentMessages": 1,
    "failedMessages": 0,
    "createdAt": "2024-01-15T09:00:00",
    "message": null
  },
  {
    "id": 3,
    "name": "Campanha Agendada",
    "status": "PAUSED",
    "totalContacts": 5,
    "sentMessages": 3,
    "failedMessages": 1,
    "createdAt": "2024-01-15T08:00:00",
    "message": null
  }
]
```

### Erro (400 Bad Request)

```json
null
```

## Campos da Resposta

| Campo | Tipo | Descrição |
|-------|------|-----------|
| `id` | number | ID único da campanha |
| `name` | string | Nome da campanha |
| `status` | string | Status atual: ACTIVE, PAUSED, CANCELLED, COMPLETED |
| `totalContacts` | number | Total de contatos na campanha |
| `sentMessages` | number | Mensagens enviadas com sucesso |
| `failedMessages` | number | Mensagens que falharam |
| `createdAt` | datetime | Data e hora de criação |
| `message` | string | Mensagem de erro (null em caso de sucesso) |

## Status das Campanhas

| Status | Descrição |
|--------|-----------|
| `ACTIVE` | Campanha ativa e enviando mensagens |
| `PAUSED` | Campanha pausada temporariamente |
| `CANCELLED` | Campanha cancelada |
| `COMPLETED` | Campanha finalizada (todas as mensagens processadas) |

## Códigos de Erro

| Código | Descrição |
|--------|-----------|
| `400` | Access token inválido |
| `500` | Erro interno do servidor |

## Exemplo de Uso

### JavaScript

```javascript
const response = await fetch('https://api.disparador.com/api/campaigns', {
  method: 'GET',
  headers: {
    'X-Access-Token': 'seu-access-token'
  }
});

const campaigns = await response.json();
console.log('Campanhas:', campaigns);
```

### Python

```python
import requests

headers = {
    'X-Access-Token': 'seu-access-token'
}

response = requests.get('https://api.disparador.com/api/campaigns', headers=headers)
campaigns = response.json()
print('Campanhas:', campaigns)
```

### PHP

```php
$headers = [
    'X-Access-Token: seu-access-token'
];

$response = file_get_contents('https://api.disparador.com/api/campaigns', false, stream_context_create([
    'http' => [
        'method' => 'GET',
        'header' => implode("\r\n", $headers)
    ]
]));

$campaigns = json_decode($response, true);
echo 'Campanhas: ' . print_r($campaigns, true);
```

## Filtros e Ordenação

Atualmente, a API retorna todas as campanhas da empresa em ordem cronológica (mais recentes primeiro). Futuras versões incluirão:

- Filtro por status
- Filtro por data
- Paginação
- Ordenação personalizada

## Próximos Passos

Após listar as campanhas:

1. [Consultar Campanha Específica](/api-reference/campaigns/get) - Detalhes de uma campanha
2. [Gerenciar Campanha](/api-reference/campaigns/pause) - Pause, retome ou cancele
3. [Criar Nova Campanha](/api-reference/campaigns/create) - Crie uma nova campanha 