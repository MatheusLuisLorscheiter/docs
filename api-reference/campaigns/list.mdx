---
title: "Listar Campanhas"
api: "GET /api/campaigns"
description: "Lista todas as campanhas da empresa"
---

<Note>
Retorna uma lista de todas as campanhas da empresa autenticada, ordenadas por data de cria칞칚o.
</Note>

<Warning>
Voc칡 precisa de um access token v치lido no header X-Access-Token para usar este endpoint.
</Warning>

## Headers

<ParamField header="X-Access-Token" type="string" required>
  Token de acesso obtido no registro
</ParamField>

<RequestExample>

```bash cURL
curl -X GET https://{url-key}/api/campaigns \
  -H "X-Access-Token: {access_token}"
```

```javascript JavaScript
const response = await fetch('https://{url-key}/api/campaigns', {
  method: 'GET',
  headers: {
    'X-Access-Token': '{access_token}'
  }
});

const campaigns = await response.json();
console.log('Campanhas:', campaigns);
```

```python Python
import requests

headers = {
    'X-Access-Token': '{access_token}'
}

response = requests.get('https://{url-key}/api/campaigns', headers=headers)
campaigns = response.json()
print('Campanhas:', campaigns)
```

```php PHP
<?php
$headers = [
    'X-Access-Token: {access_token}'
];

$curl = curl_init();
curl_setopt_array($curl, [
    CURLOPT_URL => 'https://{url-key}/api/campaigns',
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_HTTPHEADER => $headers
]);

$response = curl_exec($curl);
curl_close($curl);

$campaigns = json_decode($response, true);
print_r($campaigns);
?>
```

</RequestExample>

<ResponseExample>

```json Sucesso (200 OK)
[
  {
    "id": 1,
    "name": "{campaign_name_1}",
    "status": "ACTIVE",
    "totalContacts": 2,
    "sentMessages": 2,
    "failedMessages": 0,
    "createdAt": "{creation_datetime_1}",
    "message": null
  },
  {
    "id": 2,
    "name": "{campaign_name_2}",
    "status": "COMPLETED",
    "totalContacts": 1,
    "sentMessages": 1,
    "failedMessages": 0,
    "createdAt": "{creation_datetime_2}",
    "message": null
  },
  {
    "id": 3,
    "name": "{campaign_name_3}",
    "status": "PAUSED",
    "totalContacts": 5,
    "sentMessages": 3,
    "failedMessages": 1,
    "createdAt": "{creation_datetime_3}",
    "message": null
  }
]
```

```json Erro (400 Bad Request)
{
  "error": "Invalid access token",
  "message": "Access token is required or invalid"
}
```

```json Array Vazio (200 OK)
[]
```

</ResponseExample>

## Response

Retorna um array de objetos com as seguintes propriedades:

<ResponseField name="id" type="number">
  ID 칰nico da campanha
</ResponseField>

<ResponseField name="name" type="string">
  Nome da campanha
</ResponseField>

<ResponseField name="status" type="string">
  Status atual: ACTIVE, PAUSED, CANCELLED, COMPLETED
</ResponseField>

<ResponseField name="totalContacts" type="number">
  Total de contatos na campanha
</ResponseField>

<ResponseField name="sentMessages" type="number">
  Mensagens enviadas com sucesso
</ResponseField>

<ResponseField name="failedMessages" type="number">
  Mensagens que falharam
</ResponseField>

<ResponseField name="createdAt" type="datetime">
  Data e hora de cria칞칚o
</ResponseField>

<ResponseField name="message" type="string">
  Mensagem de erro (null em caso de sucesso)
</ResponseField>

## C칩digos de Erro

| C칩digo | Descri칞칚o |
|--------|-----------|
| 400 | Access token inv치lido ou n칚o fornecido |
| 401 | Token de acesso n칚o autorizado |
| 500 | Erro interno do servidor |

## Status das Campanhas

<CardGroup cols={2}>
  <Card title="ACTIVE" icon="play" color="#16a34a">
    Campanha ativa e enviando mensagens
  </Card>
  <Card title="PAUSED" icon="pause" color="#eab308">
    Campanha pausada temporariamente
  </Card>
  <Card title="CANCELLED" icon="stop" color="#dc2626">
    Campanha cancelada permanentemente
  </Card>
  <Card title="COMPLETED" icon="check" color="#6366f1">
    Campanha finalizada (todas as mensagens processadas)
  </Card>
</CardGroup>

## Ordena칞칚o e Filtros

<Note>
A API retorna todas as campanhas da empresa em ordem cronol칩gica (mais recentes primeiro).
</Note>

**Funcionalidades futuras planejadas:**

<CardGroup cols={2}>
  <Card title="Filtros Avan칞ados" icon="filter" color="#8b5cf6">
    Filtro por status, data de cria칞칚o e nome
  </Card>
  <Card title="Controles de Lista" icon="settings" color="#f59e0b">
    Pagina칞칚o e ordena칞칚o personalizada
  </Card>
</CardGroup>

## Exemplo de Uso Pr치tico

Para monitorar campanhas ativas:

<RequestExample>

```javascript Monitoramento de Campanhas
// Fun칞칚o para monitorar campanhas ativas
async function monitorarCampanhas() {
  const response = await fetch('https://{url-key}/api/campaigns', {
    headers: {
      'X-Access-Token': '{access_token}'
    }
  });
  
  const campaigns = await response.json();
  
  // Filtrar apenas campanhas ativas
  const activeCampaigns = campaigns.filter(c => c.status === 'ACTIVE');
  
  console.log(`Campanhas ativas: ${activeCampaigns.length}`);
  
  activeCampaigns.forEach(campaign => {
    const progress = (campaign.sentMessages / campaign.totalContacts * 100).toFixed(1);
    console.log(`${campaign.name}: ${progress}% conclu칤da`);
  });
}

// Monitorar a cada 30 segundos
setInterval(monitorarCampanhas, 30000);
```

```python Relat칩rio de Status
import requests
from datetime import datetime

def gerar_relatorio_campanhas():
    headers = {'X-Access-Token': '{access_token}'}
    response = requests.get('https://{url-key}/api/campaigns', headers=headers)
    campaigns = response.json()
    
    print(f"Relat칩rio de Campanhas - {datetime.now().strftime('%d/%m/%Y %H:%M')}")
    print("-" * 50)
    
    for campaign in campaigns:
        progress = (campaign['sentMessages'] / campaign['totalContacts']) * 100
        print(f"游닎 {campaign['name']}")
        print(f"   Status: {campaign['status']}")
        print(f"   Progresso: {progress:.1f}%")
        print(f"   Falhas: {campaign['failedMessages']}")
        print()

gerar_relatorio_campanhas()
```

</RequestExample>

## Pr칩ximos Passos

Ap칩s listar as campanhas:

<CardGroup cols={3}>
  <Card title="Consultar Campanha" icon="magnifying-glass" href="/api-reference/campaigns/get">
    Detalhes de uma campanha espec칤fica
  </Card>
  <Card title="Gerenciar Campanha" icon="gear" href="/api-reference/campaigns/pause">
    Pause, retome ou cancele campanhas
  </Card>
  <Card title="Criar Nova Campanha" icon="plus" href="/api-reference/campaigns/create">
    Crie uma nova campanha
  </Card>
</CardGroup>