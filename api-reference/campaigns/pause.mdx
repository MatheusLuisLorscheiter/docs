---
title: "Pausar Campanha"
api: "PUT /api/campaigns/{id}/pause"
description: "Pausa temporariamente uma campanha em execução"
---

<Tip>
Pausa uma campanha ativa para retomá-la posteriormente. Útil para ajustes ou correções durante o envio.
</Tip>

## Headers

<ParamField header="X-Access-Token" type="string" required>
  Token de acesso da empresa
</ParamField>

## Path Parameters

<ParamField path="id" type="number" required>
  ID da campanha a ser pausada
</ParamField>

<RequestExample>

```bash cURL
curl -X PUT https://api.disparador.com/api/campaigns/123/pause \
  -H "X-Access-Token: seu-access-token"
```

```javascript JavaScript
const campaignId = 123;
const response = await fetch(`https://api.disparador.com/api/campaigns/${campaignId}/pause`, {
  method: 'PUT',
  headers: {
    'X-Access-Token': 'seu-access-token'
  }
});

const result = await response.json();

if (result.id) {
  console.log(`Campanha ${result.name} pausada com sucesso!`);
  console.log(`Status atual: ${result.status}`);
  console.log(`Pausada em: ${result.pausedAt}`);
} else {
  console.error('Erro:', result.message);
}
```

```python Python
import requests

campaign_id = 123
url = f"https://api.disparador.com/api/campaigns/{campaign_id}/pause"
headers = {
    'X-Access-Token': 'seu-access-token'
}

response = requests.put(url, headers=headers)
result = response.json()

if 'id' in result:
    print(f"Campanha '{result['name']}' pausada com sucesso!")
    print(f"Status: {result['status']}")
    print(f"Pausada em: {result['pausedAt']}")
else:
    print(f"Erro: {result.get('message')}")
```

```php PHP
<?php
$campaignId = 123;
$url = "https://api.disparador.com/api/campaigns/{$campaignId}/pause";

$options = [
    'http' => [
        'header' => "X-Access-Token: seu-access-token\r\n",
        'method' => 'PUT'
    ]
];

$context = stream_context_create($options);
$result = file_get_contents($url, false, $context);
$response = json_decode($result, true);

if (isset($response['id'])) {
    echo "Campanha '{$response['name']}' pausada com sucesso!\n";
    echo "Status: {$response['status']}\n";
    echo "Pausada em: {$response['pausedAt']}\n";
} else {
    echo "Erro: " . $response['message'] . "\n";
}
?>
```

</RequestExample>

## Response

Retorna os dados completos atualizados da campanha após pausar.

### Campos Principais

<ResponseField name="id" type="number">
  ID da campanha
</ResponseField>

<ResponseField name="name" type="string">
  Nome da campanha
</ResponseField>

<ResponseField name="description" type="string">
  Descrição da campanha
</ResponseField>

<ResponseField name="status" type="string">
  Novo status (será "PAUSED")
</ResponseField>

<ResponseField name="type" type="string">
  Tipo da campanha (TEXT, MEDIA, POLL)
</ResponseField>

<ResponseField name="pausedAt" type="string">
  Data/hora em que foi pausada
</ResponseField>

### Estatísticas

<ResponseField name="totalContacts" type="number">
  Total de contatos na campanha
</ResponseField>

<ResponseField name="sentContacts" type="number">
  Mensagens já enviadas
</ResponseField>

<ResponseField name="failedContacts" type="number">
  Mensagens que falharam
</ResponseField>

<ResponseField name="pendingContacts" type="number">
  Mensagens ainda pendentes
</ResponseField>

<ResponseField name="progressPercentage" type="number">
  Percentual de progresso
</ResponseField>

<ResponseField name="successRate" type="number">
  Taxa de sucesso atual
</ResponseField>

### Outros Campos

Todos os demais campos da estrutura CampaignResponse também são retornados, incluindo:
- messageContent
- mediaType
- mediaUrl
- evolutionInstance
- evolutionConfig
- etc.

<ResponseField name="message" type="string">
  Mensagem de erro (apenas em caso de falha)
</ResponseField>

<ResponseExample>

```json 200 - Sucesso
{
  "id": 123,
  "name": "Campanha de Vendas",
  "description": null,
  "status": "PAUSED",
  "type": "TEXT",
  "createdAt": "2024-01-20T10:00:00",
  "scheduledFor": null,
  "startedAt": "2024-01-20T10:01:00",
  "completedAt": null,
  "pausedAt": "2024-01-20T15:30:00",
  "totalContacts": 500,
  "sentContacts": 234,
  "failedContacts": 5,
  "pendingContacts": 261,
  "progressPercentage": 46.8,
  "successRate": 97.86,
  "estimatedCompletion": null,
  "messageContent": "Aproveite nossa promoção especial!",
  "mediaType": null,
  "mediaUrl": null,
  "fileName": null,
  "evolutionInstance": "whatsapp-01",
  "minInterval": 5,
  "maxInterval": 10,
  "notificationPhone": null,
  "pollData": null,
  "evolutionConfig": {
    "id": 1,
    "name": "WhatsApp Principal",
    "url": "https://evolution-api.exemplo.com",
    "instance": "whatsapp-01"
  },
  "message": null
}
```

```json 400 - Campanha Não Pode Ser Pausada
{
  "message": "Apenas campanhas ativas podem ser pausadas"
}
```

```json 400 - Campanha Não Encontrada
{
  "message": "Campanha não encontrada"
}
```

```json 400 - Token Inválido
{
  "message": "Access token inválido"
}
```

</ResponseExample>

## Regras de Negócio

<Warning>
- Apenas campanhas com status `ACTIVE` podem ser pausadas
- Campanhas agendadas devem ser canceladas, não pausadas
- A pausa é instantânea, mas mensagens já em fila podem ser enviadas
- Não há limite para quantas vezes uma campanha pode ser pausada
</Warning>

## Quando Pausar

<CardGroup cols={2}>
  <Card title="Correções Urgentes" icon="wrench" color="#ef4444">
    Detectou erro na mensagem ou lista de contatos
  </Card>
  <Card title="Ajustes de Horário" icon="clock" color="#3b82f6">
    Evitar envios em horários inadequados
  </Card>
  <Card title="Problemas Técnicos" icon="triangle-exclamation" color="#f59e0b">
    Issues com WhatsApp ou Evolution API
  </Card>
  <Card title="Solicitação Cliente" icon="user" color="#8b5cf6">
    Cliente pediu para parar temporariamente
  </Card>
</CardGroup>

## Exemplo de Fluxo

```javascript
// Pausar campanha se detectar muitas falhas
async function monitorAndPauseIfNeeded(campaignId, accessToken) {
  const response = await fetch(`https://api.disparador.com/api/campaigns/${campaignId}`, {
    headers: { 'X-Access-Token': accessToken }
  });
  
  const campaign = await response.json();
  
  // Se mais de 20% de falhas, pausar
  if (campaign.sentContacts > 0) {
    const failureRate = (campaign.failedContacts / campaign.sentContacts) * 100;
    
    if (failureRate > 20 && campaign.status === 'ACTIVE') {
      console.warn(`Alta taxa de falha detectada: ${failureRate.toFixed(2)}%`);
      
      // Pausar campanha
      const pauseResponse = await fetch(
        `https://api.disparador.com/api/campaigns/${campaignId}/pause`,
        {
          method: 'PUT',
          headers: { 'X-Access-Token': accessToken }
        }
      );
      
      if (pauseResponse.ok) {
        const pausedCampaign = await pauseResponse.json();
        console.log('Campanha pausada automaticamente devido a alta taxa de falhas');
        console.log(`Pausada em: ${pausedCampaign.pausedAt}`);
      }
    }
  }
}
```

## Próximos Passos

<CardGroup cols={2}>
  <Card title="Retomar Campanha" icon="play" href="/api-reference/campaigns/resume">
    Continue o envio de onde parou
  </Card>
  <Card title="Cancelar Campanha" icon="stop" href="/api-reference/campaigns/cancel">
    Cancele permanentemente se necessário
  </Card>
</CardGroup>
