---
title: "Automações"
description: "Configure integrações e automações avançadas"
---

## Visão Geral

A página de Automações permite configurar e gerenciar integrações com ferramentas externas para automatizar processos.

<Note>
  Atualmente, a integração principal disponível é com o N8N para workflows automatizados. Outras integrações estão em desenvolvimento.
</Note>

## Interface Principal

### Cards de Automação

A página apresenta cards para diferentes tipos de automação:

<CardGroup cols={3}>
  <Card title="N8N" icon="zap" color="#6366f1">
    **Disponível** - Automações avançadas com workflows visuais
  </Card>
  <Card title="IA - Assistente Virtual" icon="bot" color="#9333ea">
    **Em Breve** - Assistente inteligente para atendimento automatizado
  </Card>
  <Card title="E-Mails" icon="mail" color="#3b82f6">
    **Em Breve** - Automação de campanhas e respostas por e-mail
  </Card>
</CardGroup>

## Integração N8N

### Sobre o N8N

O N8N é uma plataforma de automação de código aberto que permite criar workflows complexos com interface visual.

<Info>
  A integração com N8N permite criar automações como:
  - Respostas automáticas baseadas em palavras-chave
  - Integração com CRMs e outros sistemas
  - Processamento de dados e relatórios
  - Gatilhos baseados em eventos
</Info>

### Requisitos

Para usar a integração N8N:
1. **Configuração pelo Administrador** - O admin deve configurar a URL e credenciais do N8N
2. **Workflows Criados** - Os workflows devem ser criados no N8N
3. **Webhooks Configurados** - Cada workflow deve ter os webhooks apropriados

### Modal de Workflows

Ao clicar no card N8N, um modal é aberto mostrando:

#### Estados Possíveis

<Tabs>
  <Tab title="N8N Não Configurado">
    Exibe mensagem informando que é necessário configurar a integração:
    - Ícone de alerta amarelo
    - Instruções para contatar o administrador
    - Fundo amarelo suave
  </Tab>
  <Tab title="Sem Workflows">
    Quando configurado mas sem workflows:
    - Ícone grande do N8N
    - Mensagem "Nenhuma automação encontrada"
    - Instrução para criar workflows no N8N
  </Tab>
  <Tab title="Com Workflows">
    Lista de workflows disponíveis com:
    - Nome e ID do workflow
    - Toggle para ativar/desativar
    - Indicador visual de status
  </Tab>
</Tabs>

### Lista de Workflows

Cada workflow é exibido em um card com:

#### Informações
- **Nome** - Título do workflow
- **ID** - Identificador único
- **Status** - Ativo ou inativo

#### Visual
- **Ícone** - Raio colorido baseado no status
- **Cores**:
  - Verde quando ativo
  - Cinza quando inativo
- **Toggle** - Botão deslizante para ativar/desativar

#### Ações
- **Ativar/Desativar** - Toggle switch animado
- **Atualizar** - Botão de refresh no cabeçalho do modal

### Comportamento

#### Carregamento
1. Verifica se N8N está configurado
2. Busca lista de workflows da empresa
3. Para cada workflow, busca status atualizado
4. Exibe com indicadores visuais apropriados

#### Ativação/Desativação
- **Click no Toggle** - Alterna estado do workflow
- **Feedback Visual** - Toggle animado e mudança de cores
- **Atualização** - Lista recarrega automaticamente
- **Desabilitado** - Durante processamento da requisição

## Estados e Feedback

### Carregando
- Spinner animado centralizado
- Aparece ao buscar dados do servidor

### Erro de Configuração
- Mensagem clara sobre necessidade de configuração
- Orientação para contatar administrador
- Visual destacado em amarelo

### Vazio
- Ilustração e mensagem amigável
- Instruções sobre próximos passos
- Link implícito para documentação

## Responsividade

A interface se adapta a diferentes tamanhos de tela:

<Tabs>
  <Tab title="Desktop">
    - Grid de 3 colunas para cards
    - Modal amplo com espaço confortável
    - Todos os elementos visíveis
  </Tab>
  <Tab title="Tablet">
    - Grid de 2 colunas para cards
    - Modal adaptado
    - Layout otimizado
  </Tab>
  <Tab title="Mobile">
    - Grid de 1 coluna
    - Modal em tela cheia
    - Touch-friendly
  </Tab>
</Tabs>

## Dark Mode

Suporte completo a tema escuro:
- Cards com fundos adaptados
- Textos com contraste apropriado
- Borders e shadows ajustados
- Transições suaves entre temas

## Integração com API

### Endpoints Utilizados

```typescript
// Verificar configuração N8N
GET /api/admin/n8n-config

// Listar workflows da empresa
GET /api/admin/n8n-workflows/{companyId}

// Status de um workflow
GET /api/n8n/workflows/{workflowId}

// Ativar workflow
POST /api/n8n/workflows/{workflowId}/activate

// Desativar workflow  
POST /api/n8n/workflows/{workflowId}/deactivate
```

## Futuras Integrações

### IA - Assistente Virtual
<Note>
  Em desenvolvimento:
  - Chatbot inteligente com IA
  - Respostas contextuais
  - Aprendizado contínuo
  - Integração com GPT/Claude
</Note>

### E-Mails
<Note>
  Planejado:
  - Campanhas de email marketing
  - Respostas automáticas
  - Templates personalizados
  - Analytics de abertura
</Note>

## Configuração Evolution API

<Warning>
  A configuração das instâncias Evolution API (WhatsApp) foi movida para a área administrativa e não está mais nesta página.
</Warning>

### Onde Configurar Evolution API

As instâncias Evolution API são configuradas em:
- **Admin Geral**: `/admin` > Selecionar empresa > Aba "Evolution API"
- **Admin da Empresa**: `/company-admin` > Aba "Evolution API"
- **Super Admin**: Acesso direto às configurações

### O que é Possível Configurar

- Adicionar múltiplas instâncias
- Definir nome e URL da API
- Configurar API Key
- Testar conexão
- Ativar/desativar instâncias

## Dicas de Uso

<CardGroup cols={2}>
  <Card title="Workflows Eficientes" icon="zap" color="#6366f1">
    Crie workflows simples e teste antes de complexificar
  </Card>
  <Card title="Monitoramento" icon="eye" color="#16a34a">
    Verifique regularmente o status dos workflows ativos
  </Card>
  <Card title="Documentação" icon="book" color="#8b5cf6">
    Documente seus workflows para facilitar manutenção
  </Card>
  <Card title="Backup" icon="save" color="#f59e0b">
    Exporte workflows importantes do N8N regularmente
  </Card>
</CardGroup>

## Solução de Problemas

### N8N não aparece configurado
1. Verifique com o administrador se foi configurado
2. Confirme se sua empresa tem permissão
3. Teste a conexão nas configurações admin

### Workflows não aparecem
1. Verifique se foram criados no N8N
2. Confirme se estão associados à sua empresa
3. Use o botão refresh para atualizar

### Toggle não funciona
1. Verifique conexão com internet
2. Confirme permissões no N8N
3. Tente atualizar a página

## Limitações Conhecidas

<Warning>
  - Apenas administradores podem configurar N8N
  - Workflows devem ser criados diretamente no N8N
  - Não há editor visual de workflows na plataforma
  - Limite de workflows ativos depende do plano
</Warning>