---
title: "Gerenciamento de Campanhas"
description: "Interface para criar e gerenciar campanhas de mensagens"
---

## Vis√£o Geral

A p√°gina de Campanhas √© o centro de controle para gerenciar todos os disparos de mensagens, com interface intuitiva e recursos avan√ßados.

<Note>
  A interface se adapta automaticamente ao tema claro/escuro e √© totalmente responsiva para diferentes dispositivos.
</Note>

## Interface Principal

### Cabe√ßalho

A p√°gina apresenta:
- **T√≠tulo e Descri√ß√£o**: "Campanhas - Gerencie suas campanhas de mensagens"
- **Bot√£o Atualizar**: Recarrega a lista de campanhas
- **Bot√£o Nova Campanha**: Abre o modal de cria√ß√£o

### Filtro de Status

<Info>
  Logo abaixo do cabe√ßalho, h√° um filtro dropdown para visualizar campanhas por status espec√≠fico.
</Info>

Op√ß√µes dispon√≠veis:
- **Todos os status** - Visualiza todas as campanhas
- **Rascunho** - Campanhas salvas mas n√£o iniciadas
- **Agendada** - Campanhas programadas para execu√ß√£o futura
- **Em Execu√ß√£o** - Campanhas ativamente enviando mensagens
- **Pausada** - Campanhas temporariamente interrompidas
- **Conclu√≠da** - Campanhas finalizadas com sucesso
- **Cancelada** - Campanhas interrompidas permanentemente

## Lista de Campanhas

### Colunas da Tabela

<Tabs>
  <Tab title="Desktop">
    A tabela exibe todas as colunas lado a lado:
    1. **Campanha** - Nome e inst√¢ncia Evolution
    2. **Status** - Badge colorido com estado atual
    3. **Progresso** - Barra visual e n√∫meros (enviados/total)
    4. **Agendamento** - Data/hora programada (se aplic√°vel)
    5. **A√ß√µes** - Bot√µes de a√ß√£o contextuais
  </Tab>
  <Tab title="Mobile">
    Layout em cards com informa√ß√µes essenciais:
    - Nome da campanha em destaque
    - Status e progresso vis√≠veis
    - Menu de a√ß√µes simplificado
  </Tab>
</Tabs>

### Status e Cores

Cada status possui uma cor e estilo espec√≠fico:

| Status | Cor | Significado |
|--------|-----|-------------|
| Rascunho | Cinza | Campanha criada mas n√£o iniciada |
| Agendada | Roxo | Programada para execu√ß√£o futura |
| Em Execu√ß√£o | Verde | Ativamente enviando mensagens |
| Pausada | Amarelo | Temporariamente interrompida |
| Conclu√≠da | Azul | Finalizada com sucesso |
| Cancelada | Vermelho | Interrompida permanentemente |
| Erro | Vermelho | Falha na execu√ß√£o |

### Barra de Progresso

A barra de progresso mostra:
- **N√∫meros**: `enviados/total` (ex: 150/500)
- **Percentual**: Calculado automaticamente
- **Visual**: Barra azul preenchida proporcionalmente
- **Anima√ß√£o**: Transi√ß√£o suave ao atualizar

## A√ß√µes Dispon√≠veis

### Por Status da Campanha

<CardGroup cols={2}>
  <Card title="Em Execu√ß√£o" icon="play" color="#16a34a">
    - **Ver Detalhes** üëÅÔ∏è
    - **Pausar** ‚è∏Ô∏è
    - **Cancelar** ‚ùå
  </Card>
  <Card title="Pausada" icon="pause" color="#eab308">
    - **Ver Detalhes** üëÅÔ∏è
    - **Retomar** ‚ñ∂Ô∏è
    - **Cancelar** ‚ùå
  </Card>
  <Card title="Agendada" icon="clock" color="#8b5cf6">
    - **Ver Detalhes** üëÅÔ∏è
    - **Cancelar** ‚ùå
  </Card>
  <Card title="Finalizada" icon="check" color="#3b82f6">
    - **Ver Detalhes** üëÅÔ∏è
    - **Excluir** üóëÔ∏è
  </Card>
</CardGroup>

### Descri√ß√£o das A√ß√µes

- **Ver Detalhes** üëÅÔ∏è - Abre modal com informa√ß√µes completas
- **Pausar** ‚è∏Ô∏è - Interrompe temporariamente o envio
- **Retomar** ‚ñ∂Ô∏è - Continua do ponto onde parou
- **Cancelar** ‚ùå - Interrompe permanentemente
- **Excluir** üóëÔ∏è - Remove campanha do sistema (apenas finalizadas)

## Modal de Nova Campanha

### Se√ß√µes do Formul√°rio

<Tabs>
  <Tab title="Dados B√°sicos">
    - **Nome da Campanha** - Identifica√ß√£o √∫nica
    - **Banco de Dados** - Sele√ß√£o da fonte de contatos
    - **Evolution API** - Inst√¢ncia WhatsApp para envio
  </Tab>
  <Tab title="Filtros">
    - **Filtros Din√¢micos** - Baseados no banco selecionado
    - **Pr√©via de Contatos** - Quantidade que ser√° alcan√ßada
    - **Valida√ß√£o** - Remo√ß√£o autom√°tica de bloqueados
  </Tab>
  <Tab title="Mensagem">
    - **Tipo** - Texto, m√≠dia ou enquete
    - **Conte√∫do** - Editor com vari√°veis
    - **M√≠dia** - Upload de imagem/v√≠deo/documento
    - **Enquete** - Configura√ß√£o de op√ß√µes
  </Tab>
  <Tab title="Configura√ß√µes">
    - **Intervalos** - Tempo entre mensagens
    - **Agendamento** - Data/hora de in√≠cio
    - **Notifica√ß√£o** - WhatsApp para avisos
    - **Modo Teste** - Limita a 10 contatos
  </Tab>
</Tabs>

### Vari√°veis de Personaliza√ß√£o

Use vari√°veis para personalizar mensagens:
- `{PrimeiroNome}` - Primeiro nome do contato
- `{NomeCompleto}` - Nome completo do contato
- Campos customizados do banco de dados

### Valida√ß√µes

O sistema valida automaticamente:
- ‚úÖ Remove contatos bloqueados
- ‚úÖ Valida formato de n√∫meros
- ‚úÖ Verifica duplicatas
- ‚úÖ Confirma conex√£o Evolution API

## Modal de Detalhes

### Informa√ß√µes Exibidas

<Info>
  O modal de detalhes √© atualizado em tempo real durante a execu√ß√£o da campanha.
</Info>

#### Cabe√ßalho
- Nome da campanha
- Badge de status colorido
- Bot√£o de atualiza√ß√£o manual

#### Estat√≠sticas
- **Total de Contatos** - Quantidade na lista
- **Enviados** - Mensagens entregues com sucesso
- **Falhas** - Erros no envio
- **Progresso** - Percentual e barra visual

#### Configura√ß√µes
- **Mensagem** - Conte√∫do enviado
- **M√≠dia** - Link se houver anexo
- **Intervalos** - Configura√ß√£o de tempo
- **Evolution** - Inst√¢ncia utilizada

#### Timestamps
- **Criado em** - Data de cria√ß√£o
- **Agendado para** - Se programada
- **Iniciado em** - In√≠cio real
- **Conclu√≠do em** - T√©rmino

## Estados e Fluxo

```mermaid
graph LR
    A[Rascunho] --> B[Agendada]
    A --> C[Em Execu√ß√£o]
    B --> C
    C --> D[Pausada]
    D --> C
    C --> E[Conclu√≠da]
    C --> F[Cancelada]
    D --> F
    B --> F
```

## Funcionalidades Especiais

### Atualiza√ß√£o em Tempo Real

- Lista atualiza automaticamente ao criar/modificar campanhas
- Progresso atualizado dinamicamente
- Notifica√ß√µes toast para feedback de a√ß√µes

### Responsividade

A interface se adapta perfeitamente:
- **Desktop**: Tabela completa com todas as colunas
- **Tablet**: Layout adaptado mantendo funcionalidades
- **Mobile**: Cards otimizados para toque

### Dark Mode

Suporte completo a tema escuro:
- Cores ajustadas para contraste ideal
- Badges e bot√µes adaptados
- Transi√ß√µes suaves entre temas

## Mensagens de Feedback

### Sucesso
- ‚úÖ "Campanha criada com sucesso"
- ‚úÖ "Campanha pausada"
- ‚úÖ "Campanha retomada"
- ‚úÖ "Campanha cancelada"
- ‚úÖ "Campanha exclu√≠da com sucesso"

### Erro
- ‚ùå "Erro ao criar campanha"
- ‚ùå "Erro ao pausar campanha"
- ‚ùå "Erro ao retomar campanha"
- ‚ùå "Erro ao cancelar campanha"
- ‚ùå "Erro ao excluir campanha"

## Confirma√ß√µes

### Excluir Campanha

Ao excluir, um di√°logo de confirma√ß√£o aparece:
- **T√≠tulo**: "Excluir Campanha"
- **Mensagem**: "Tem certeza que deseja excluir esta campanha? Esta a√ß√£o n√£o pode ser desfeita."
- **Bot√µes**: Excluir (vermelho) / Cancelar

## Integra√ß√£o com API

### Endpoints Utilizados

```typescript
// Listar campanhas
GET /api/campaigns?companyId={companyId}&status={status}

// Detalhes da campanha
GET /api/campaigns/{id}

// Criar campanha
POST /api/campaigns

// Pausar campanha
PUT /api/campaigns/{id}/pause

// Retomar campanha
PUT /api/campaigns/{id}/resume

// Cancelar campanha
PUT /api/campaigns/{id}/cancel

// Excluir campanha (n√£o implementado no backend ainda)
DELETE /api/campaigns/{id}
```

## Dicas de Uso

<CardGroup cols={2}>
  <Card title="Organiza√ß√£o" icon="folder" color="#3b82f6">
    Use nomes descritivos e inclua datas para facilitar identifica√ß√£o
  </Card>
  <Card title="Testes" icon="flask" color="#16a34a">
    Sempre teste com poucos contatos antes de campanhas grandes
  </Card>
  <Card title="Intervalos" icon="clock" color="#8b5cf6">
    Configure intervalos adequados para evitar bloqueios
  </Card>
  <Card title="Monitoramento" icon="eye" color="#f59e0b">
    Acompanhe o progresso para identificar problemas rapidamente
  </Card>
</CardGroup>

## Limita√ß√µes Conhecidas

<Warning>
  - Exclus√£o de campanhas ainda n√£o est√° implementada no backend
  - O limite de contatos por campanha depende da configura√ß√£o do servidor
  - Campanhas em execu√ß√£o n√£o podem ser editadas
</Warning>

## Pr√≥ximas Funcionalidades

<Note>
  Recursos planejados para futuras vers√µes:
  - Duplica√ß√£o de campanhas
  - Exporta√ß√£o de relat√≥rios
  - Templates de mensagens
  - An√°lise de performance
  - Campanhas recorrentes
</Note>