---
title: "Gerenciamento de Campanhas"
description: "Interface para criar e gerenciar campanhas de mensagens"
---

## Vis√£o Geral

A p√°gina de Campanhas √© o centro de controle para gerenciar todos os disparos de mensagens, com interface intuitiva e recursos avan√ßados.

<Note>
  A interface se adapta automaticamente ao tema claro/escuro e √© totalmente responsiva para diferentes dispositivos.
</Note>

## Interface Principal

### Cabe√ßalho

A p√°gina apresenta:
- **T√≠tulo e Descri√ß√£o**: "Campanhas - Gerencie suas campanhas de mensagens"
- **Bot√£o Atualizar**: Recarrega a lista de campanhas
- **Bot√£o Nova Campanha**: Abre o modal de cria√ß√£o

### Filtros da Lista

<Info>
  Logo abaixo do cabe√ßalho, h√° filtros para refinar a listagem.
</Info>

- **Status**: dropdown com os estados (Rascunho, Agendada, Em Execu√ß√£o, Pausada, Conclu√≠da, Cancelada, Erro)
- **Tipo**: WhatsApp, E-mail ou Todos

## Lista de Campanhas

### Colunas da Tabela

<Tabs>
  <Tab title="Desktop">
    A tabela exibe todas as colunas lado a lado:
    1. **Campanha** - Nome e inst√¢ncia Evolution
    2. **Status** - Badge colorido com estado atual
    3. **Progresso** - Barra visual e n√∫meros (enviados/total)
    4. **Agendamento** - Data/hora programada (se aplic√°vel)
    5. **A√ß√µes** - Bot√µes de a√ß√£o contextuais
  </Tab>
  <Tab title="Mobile">
    Layout em cards com informa√ß√µes essenciais:
    - Nome da campanha em destaque
    - Status e progresso vis√≠veis
    - Menu de a√ß√µes simplificado
  </Tab>
</Tabs>

### Status e Cores

Cada status possui uma cor e estilo espec√≠fico:

| Status | Cor | Significado |
|--------|-----|-------------|
| Rascunho | Cinza | Campanha criada mas n√£o iniciada |
| Agendada | Roxo | Programada para execu√ß√£o futura |
| Em Execu√ß√£o | Verde | Ativamente enviando mensagens |
| Pausada | Amarelo | Temporariamente interrompida |
| Conclu√≠da | Azul | Finalizada com sucesso |
| Cancelada | Vermelho | Interrompida permanentemente |
| Erro | Vermelho | Falha na execu√ß√£o |

### Barra de Progresso

A barra de progresso mostra:
- **N√∫meros**: `enviados/total` (ex: 150/500)
- **Percentual**: Calculado automaticamente
- **Visual**: Barra azul preenchida proporcionalmente
- **Anima√ß√£o**: Transi√ß√£o suave ao atualizar

## A√ß√µes Dispon√≠veis

### Por Status da Campanha

<CardGroup cols={2}>
  <Card title="Em Execu√ß√£o" icon="play" color="#16a34a">
    - **Ver Detalhes** üëÅÔ∏è
    - **Pausar** ‚è∏Ô∏è
    - **Cancelar** ‚ùå
    - **Duplicar** üìÑ
  </Card>
  <Card title="Pausada" icon="pause" color="#eab308">
    - **Ver Detalhes** üëÅÔ∏è
    - **Retomar** ‚ñ∂Ô∏è
    - **Cancelar** ‚ùå
    - **Duplicar** üìÑ
  </Card>
  <Card title="Agendada" icon="clock" color="#8b5cf6">
    - **Ver Detalhes** üëÅÔ∏è
    - **Cancelar** ‚ùå
    - **Duplicar** üìÑ
  </Card>
  <Card title="Finalizada" icon="check" color="#3b82f6">
    - **Ver Detalhes** üëÅÔ∏è
    - **Duplicar** üìÑ
  </Card>
</CardGroup>

### Descri√ß√£o das A√ß√µes

- **Ver Detalhes** üëÅÔ∏è - Abre modal com informa√ß√µes completas (WhatsApp e E-mail)
- **Pausar** ‚è∏Ô∏è - Interrompe temporariamente o envio
- **Retomar** ‚ñ∂Ô∏è - Continua do ponto onde parou
- **Cancelar** ‚ùå - Interrompe permanentemente
- **Duplicar** üìÑ - Cria uma c√≥pia em rascunho da campanha

## Modal de Nova Campanha

### Se√ß√µes do Formul√°rio

<Tabs>
  <Tab title="Dados B√°sicos">
    - **Nome da Campanha** - Identifica√ß√£o √∫nica
    - **Fonte de Dados** - Banco do sistema ou **Meus Bancos** (do usu√°rio)
    - **Inst√¢ncia WhatsApp** - Evolution para envio (se WhatsApp)
  </Tab>
  <Tab title="Filtros">
    - **Filtros Din√¢micos** - De acordo com o template do banco
    - **Operadores** - Igual, Maior que, Menor que, Entre, Cont√©m, IN, etc.
    - **Datas Din√¢micas** - Suporte a HOJE, AMANHA, ONTEM
    - **Ignorar ano** - Para datas como anivers√°rios (compara MM-DD)
    - **Pr√©via de Contatos** - Visualize e selecione contatos
  </Tab>
  <Tab title="Mensagem">
    - **Tipo** - Texto, m√≠dia ou enquete
    - **Conte√∫do** - Editor com vari√°veis
    - **M√≠dia** - Upload de imagem/v√≠deo/documento
    - **Enquete** - Configura√ß√£o de op√ß√µes
  </Tab>
  <Tab title="Configura√ß√µes">
    - **Intervalo de envio** - Aleat√≥rio entre 5 e 12 segundos (fixo)
    - **Agendamento** - Data/hora de in√≠cio (opcional)
    - **Notifica√ß√£o** - N√∫mero para receber alertas (opcional)
    - **Modo Teste** - Envia para pequena amostra
  </Tab>
</Tabs>

### Vari√°veis de Personaliza√ß√£o

Use vari√°veis para personalizar mensagens:
- `{PrimeiroNome}` - Primeiro nome do contato
- `{NomeCompleto}` - Nome completo do contato
- Campos customizados do banco de dados

<CardGroup cols={3}>
  <Card title="Filtros e Operadores" icon="filter" href="/frontend/campaigns/filters">
    Guia completo de filtros
  </Card>
  <Card title="Pr√©via de Contatos" icon="users" href="/frontend/campaigns/contacts-preview">
    Como revisar e selecionar
  </Card>
  <Card title="Meus Bancos" icon="database" href="/frontend/user-databases">
    Bases pr√≥prias do usu√°rio
  </Card>
</CardGroup>

### Valida√ß√µes

O sistema valida automaticamente:
- ‚úÖ Remove contatos bloqueados
- ‚úÖ Valida formato de n√∫meros
- ‚úÖ Verifica duplicatas
- ‚úÖ Confirma conex√£o Evolution API

## Modal de Detalhes

### Informa√ß√µes Exibidas

<Info>
  O modal de detalhes √© atualizado em tempo real durante a execu√ß√£o da campanha.
</Info>

#### Cabe√ßalho
- Nome da campanha
- Badge de status colorido
- Bot√£o de atualiza√ß√£o manual

#### Estat√≠sticas
- **Total de Contatos** - Quantidade final ap√≥s filtros/bloqueios
- **Enviados** - Mensagens entregues com sucesso
- **Falhas** - Erros no envio
- **Progresso** - Percentual e barra visual

#### Configura√ß√µes
- **Mensagem** - Conte√∫do enviado
- **M√≠dia** - Link se houver anexo
- **Intervalos** - Configura√ß√£o de tempo
- **Evolution** - Inst√¢ncia utilizada

#### Timestamps
- **Criado em** - Data de cria√ß√£o
- **Agendado para** - Se programada
- **Iniciado em** - In√≠cio real
- **Conclu√≠do em** - T√©rmino

## Estados e Fluxo

```mermaid
graph LR
    A[Rascunho] --> B[Agendada]
    A --> C[Em Execu√ß√£o]
    B --> C
    C --> D[Pausada]
    D --> C
    C --> E[Conclu√≠da]
    C --> F[Cancelada]
    D --> F
    B --> F
```

## Funcionalidades Especiais

### Atualiza√ß√£o em Tempo Real

- Lista atualiza automaticamente ao criar/modificar campanhas
- Progresso atualizado dinamicamente
- Notifica√ß√µes toast para feedback de a√ß√µes

### Responsividade

A interface se adapta perfeitamente:
- **Desktop**: Tabela completa com todas as colunas
- **Tablet**: Layout adaptado mantendo funcionalidades
- **Mobile**: Cards otimizados para toque

### Dark Mode

Suporte completo a tema escuro:
- Cores ajustadas para contraste ideal
- Badges e bot√µes adaptados
- Transi√ß√µes suaves entre temas

## Mensagens de Feedback

### Sucesso
- ‚úÖ "Campanha criada com sucesso"
- ‚úÖ "Campanha pausada"
- ‚úÖ "Campanha retomada"
- ‚úÖ "Campanha cancelada"
- ‚úÖ "Campanha exclu√≠da com sucesso"

### Erro
- ‚ùå "Erro ao criar campanha"
- ‚ùå "Erro ao pausar campanha"
- ‚ùå "Erro ao retomar campanha"
- ‚ùå "Erro ao cancelar campanha"
- ‚ùå "Erro ao excluir campanha"

## Confirma√ß√µes

### Excluir Campanha

Ao excluir, um di√°logo de confirma√ß√£o aparece:
- **T√≠tulo**: "Excluir Campanha"
- **Mensagem**: "Tem certeza que deseja excluir esta campanha? Esta a√ß√£o n√£o pode ser desfeita."
- **Bot√µes**: Excluir (vermelho) / Cancelar

## Integra√ß√£o com API

### Endpoints Utilizados

```typescript
// Listar campanhas
GET /api/campaigns?status={status}

// Detalhes da campanha
GET /api/campaigns/{id}

// Criar campanha
POST /api/campaigns

// Pausar campanha
PUT /api/campaigns/{id}/pause

// Retomar campanha
PUT /api/campaigns/{id}/resume

// Cancelar campanha
PUT /api/campaigns/{id}/cancel

// Duplicar campanha
POST /api/campaigns/{id}/duplicate
```

## Dicas de Uso

<CardGroup cols={2}>
  <Card title="Organiza√ß√£o" icon="folder" color="#3b82f6">
    Use nomes descritivos e inclua datas para facilitar identifica√ß√£o
  </Card>
  <Card title="Testes" icon="flask" color="#16a34a">
    Sempre teste com poucos contatos antes de campanhas grandes
  </Card>
  <Card title="Intervalo Fixo" icon="clock" color="#8b5cf6">
    O envio usa intervalo aleat√≥rio entre 5‚Äì12s (n√£o configur√°vel)
  </Card>
  <Card title="Monitoramento" icon="eye" color="#f59e0b">
    Acompanhe o progresso para identificar problemas rapidamente
  </Card>
</CardGroup>

## Limita√ß√µes Conhecidas

<Warning>
  - Exclus√£o de campanhas ainda n√£o est√° implementada no backend e n√£o est√° dispon√≠vel na interface
  - O limite de contatos por campanha depende da configura√ß√£o do servidor
  - Campanhas em execu√ß√£o n√£o podem ser editadas
  - Intervalo de envio n√£o √© configur√°vel pelo usu√°rio
</Warning>

## Pr√≥ximas Funcionalidades

<Note>
  Recursos planejados para futuras vers√µes:
  - Exporta√ß√£o de relat√≥rios
  - Templates de mensagens
  - An√°lise de performance
  - Campanhas recorrentes
</Note>