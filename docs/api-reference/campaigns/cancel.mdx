---
title: "Cancelar Campanha"
api: "PUT /api/campaigns/{id}/cancel"
description: "Cancela uma campanha permanentemente"
---

<Tip>
Cancela uma campanha permanentemente, a campanha precisa estar pausada ou agendada, caso esteja em andamento é será necessário pausa-la antes.
</Tip>

<Danger>
Esta ação não pode ser desfeita.
</Danger>

<Warning>
Você precisa de um access token válido no header X-Access-Token para usar este endpoint.
</Warning>

## Path Parameters

<ParamField path="id" type="number" required>
  ID único da campanha que deseja cancelar
</ParamField>

## Headers

<ParamField header="X-Access-Token" type="string" required>
  Token de acesso obtido no registro
</ParamField>

<RequestExample>

```bash cURL
curl -X PUT https://{url-key}/api/campaigns/{campaign_id}/cancel \
  -H "X-Access-Token: {access_token}"
```

```javascript JavaScript
const campaignId = {campaign_id};
const response = await fetch(`https://{url-key}/api/campaigns/${campaignId}/cancel`, {
  method: 'PUT',
  headers: {
    'X-Access-Token': '{access_token}'
  }
});

const result = await response.json();
console.log('Resultado:', result);
```

```python Python
import requests

campaign_id = {campaign_id}
headers = {
    'X-Access-Token': '{access_token}'
}

response = requests.put(
    f'https://{url-key}/api/campaigns/{campaign_id}/cancel',
    headers=headers
)

result = response.json()
print('Resultado:', result)
```

```php PHP
<?php
$campaign_id = {campaign_id};
$headers = [
    'X-Access-Token: {access_token}'
];

$curl = curl_init();
curl_setopt_array($curl, [
    CURLOPT_URL => "https://{url-key}/api/campaigns/{$campaign_id}/cancel",
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_CUSTOMREQUEST => 'PUT',
    CURLOPT_HTTPHEADER => $headers
]);

$response = curl_exec($curl);
curl_close($curl);

$result = json_decode($response, true);
print_r($result);
?>
```

</RequestExample>

<ResponseExample>

```json Sucesso (200 OK)
{
  "id": 1,
  "name": "{campaign_name}",
  "status": "CANCELLED",
  "totalContacts": 2,
  "sentMessages": 1,
  "failedMessages": 0,
  "createdAt": "{creation_datetime}",
  "message": null
}
```

```json Erro (400 Bad Request)
{
  "id": null,
  "name": null,
  "status": null,
  "totalContacts": 0,
  "sentMessages": 0,
  "failedMessages": 0,
  "message": "{error_message}"
}
```

</ResponseExample>

## Response

<ResponseField name="id" type="number">
  ID único da campanha
</ResponseField>

<ResponseField name="name" type="string">
  Nome da campanha
</ResponseField>

<ResponseField name="status" type="string">
  Status atualizado: CANCELLED
</ResponseField>

<ResponseField name="totalContacts" type="number">
  Total de contatos na campanha
</ResponseField>

<ResponseField name="sentMessages" type="number">
  Mensagens enviadas com sucesso
</ResponseField>

<ResponseField name="failedMessages" type="number">
  Mensagens que falharam
</ResponseField>

<ResponseField name="createdAt" type="datetime">
  Data e hora de criação
</ResponseField>

<ResponseField name="message" type="string">
  Mensagem de erro (null em caso de sucesso)
</ResponseField>

## Códigos de Erro

| Código | Descrição |
|--------|-----------|
| 400 | Access token inválido, campanha não encontrada ou não pode ser cancelada |
| 500 | Erro interno do servidor |

## Quando uma campanha pode ser cancelada

Uma campanha pode ser cancelada se estiver em qualquer status, exceto CANCELLED e COMPLETED:

<CardGroup cols={2}>
  <Card title="ACTIVE" icon="play" color="#16a34a">
    Pode ser cancelada
  </Card>
  <Card title="PAUSED" icon="pause" color="#eab308">
    Pode ser cancelada
  </Card>
  <Card title="CANCELLED" icon="stop" color="#dc2626">
    Já foi cancelada
  </Card>
  <Card title="COMPLETED" icon="check" color="#6366f1">
    Já foi finalizada
  </Card>
</CardGroup>

## Próximos Passos

Após cancelar a campanha:

<CardGroup cols={3}>
  <Card title="Listar Campanhas" icon="list" href="/api-reference/campaigns/list">
    Veja todas as campanhas
  </Card>
  <Card title="Criar Nova Campanha" icon="plus" href="/api-reference/campaigns/create">
    Crie uma nova campanha
  </Card>
  <Card title="Consultar Status" icon="magnifying-glass" href="/api-reference/campaigns/get">
    Verifique o status final
  </Card>
</CardGroup>